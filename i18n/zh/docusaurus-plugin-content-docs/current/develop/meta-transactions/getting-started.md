---
id: meta-transactions
title: 元交易
sidebar_label: Overview
description: 了解元交易和具体用法。
keywords:
  - docs
  - polygon
  - matic
  - transactions
  - meta transactions
  - gasless
image: https://matic.network/banners/matic-network-16x9.png
slug: meta-transactions
---

每日智能合约调用已达最高点，每天点击量约 250-300 万次。去中心化应用程序开始实现其效用，但正在成为自身或他人因燃料费而取得成功的受害者。更不用说，解决用户面临的入门障碍和当前用户体验的挑战没有捷径。

## 服务智能合约 {#servicing-smart-contracts}

根据设计，智能合约是可执行的确定状态机，在支付交易费用时执行，此时可使用网络计算资源服务合约逻辑。它可通过以太坊（和 Polygon）上的燃料计量模式实现。

## 最新交易状态 {#the-current-state-of-transacting}

以太坊（和其他类似区块链）上的传统交易模式存在局限性。一个常见的局限性是用户没有办法支付燃料费。默认情况下，交易的发送者充当支付者。由于这些行为是耦合的，如果用户尝试创建和发送交易，他们将自行承担相关的燃料费。同样，如果用户建立、交互或运行去中心化应用程序，则需要支付燃料费。

期待普通用户购买加密货币并支付与应用程序交互的燃料费是不现实的。此问题的解决方法是将交易的发送者与支付者分离，从而有机会扩展交易执行并发起无缝交易体验。

它并非直接执行交易，而是采用中间件（通过第三方）来处理燃料费。这就是元交易发挥功效之处。

## 什么是元交易？ {#what-are-meta-transactions}

元交易允许任何人与区块链互动。元交易不要求用户拥有代币才能为网络服务支付交易费用。它只需要将交易的发送者与燃料费的支付者分离。

该解决方案允许加入新用户并帮助当前用户。

交易的实施者充当发送者。他们不耗费燃料，而只是通过使用私钥签署预期行动（交易参数）来创建交易请求。元交易是一种常规的以太坊交易，它包括用于制作元交易的附加参数。

签名的交易参数被传递到充当中继器的辅助网络上。虽然存在不同的方案，但中继器通常会通过验证交易（例如，是否与去中心化应用程序相关）来选择哪些交易值得提交。验证后，中继器会将请求（已签名的消息）打包到实际交易中（这意味着支付燃料费）并将其广播到网络，然后合约通过验证原始签名来打开交易并代表用户执行。

:::note “元”和“批量”这两个词可能类似于一些

特此澄清：元交易与批量交易不同，后者是指一次性可发送多个交易，然后由单一发送者（规定只用一次）按顺序执行的交易。

:::

总之，元交易是一种设计模式，其中：

* 用户（发送者）使用私钥签署请求，然后发送到中继器
* 中继器将请求打包到交易中，然后发送到合约
* 合约打开交易并执行

原生交易意味着“发送者”也是“支付者”。当“支付者”与“发送者”分离，“发送者”就会更像“意向者” — 发送者通过签署包含有关特定参数的消息表现出在区块链上执行交易的意向，而并非完全构建的交易。

## 用例 {#use-cases}

不难想象，元交易有能力扩展去中心化应用程序以及与智能合约进行交互。由于用户不仅可以创建无燃料费交易，而且还可以多次创建，并使用自动化工具，元交易可影响下一波实际用例的应用程序。元交易在智能合约逻辑中实现了真正的效用，而这些效用通常会因燃油费和链上所需的交互而受到限制。

### 投票示例 {#example-with-voting}

用户希望参与链上治理，并打算通过投票合约就特定结果作出投票。用户将签署一条消息，以说明用户在该特定合约中的投票决定。传统上，他们需要为合约交互支付燃料费（并且清楚如何与合约交互），而现在，他们只需要使用必要的投票信息签署元交易（链下）并将其传递给代表他们执行交易的中继器。

签署的消息将被发送给中继器（关于投票信息的签署交易参数）。中继器验证该交易是否为优先投票，将投票请求打包到实际交易中，支付燃料费，然后将其广播至投票合约。一切事项都在投票合约结束时核实，然后代表用户执行投票。

## 进行测试 {#try-them-out}

假设您熟悉将元交易集成到去中心化应用程序的不同方法，并取决于您是否迁移到元交易，或建立使用元交易的全新去中心化应用程序。

为了将您的去中心化应用程序与 polygon 上的元交易集成，您可以选择使用以下中继器之一或启动自定义解决方案：

* [Biconomy](https://docs.biconomy.io/products/enable-gasless-transactions)
* [Gas Station Network (GSN)](https://docs.opengsn.org/#ethereum-gas-station-network-gsn)
* [Infura](https://infura.io/product/ethereum/transactions-itx)
* [Gelato](https://docs.gelato.network/developer-products/gelato-relay-sdk)
